<!doctype html>
<head>
  <title>Academia Game</title>
  <link rel="stylesheet" href="main.css">
</head>
<body>
	<div class="main_section">
		<span class="title">Academia Game</span>
	</div>
	<div class="main_section with_border">
		The Rules: ...
	</div>
	<div class="main_section with_border">
	  Sanity: <span id="san_value"></span>
		<div class="slider_container">
	  	<input id="san_slider" class="slider" type="range" min="0" max="6" step="1" onchange="showValue('san_value',this.value)"/>
	  </div>
	  Food: <span id="food_value"></span>
	  <div class="slider_container">
	  	<input id="food_slider" class="slider" type="range" min="0" max="6" step="1" onchange="showValue('food_value',this.value)"/>
	  </div>
	  Reputation: <span id="rep_value"></span>
	  <div class="slider_container">
	  	<input id="rep_slider" class="slider" type="range" min="0" max="6" step="1" onchange="showValue('rep_value',this.value)"/>
	  </div>
	</div>
	<div class="main_section with_border">
		<div class="cube_container">
			<div id="cube" class="show-front" onclick="startRoll()">
		    <div class="front">1</div>
		    <div class="back">2</div>
		    <div class="right">3</div>
		    <div class="left">4</div>
		    <div class="top">5</div>
		    <div class="bottom">6</div>
		  </div>
		</div>
	</div>
	<script type="text/javascript">
		function showValue(id,value) {
			document.getElementById(id).innerHTML=value;
		}
		function setSlider(slider_id,value_id,value) {
			document.getElementById(slider_id).value=value;
			showValue(value_id,value);
		}
		function initSliders() {
			var san_value = 3;
			var food_value = 3;
			var rep_value = 3;
			setSlider("san_slider","san_value",san_value);
			setSlider("food_slider","food_value",food_value);
			setSlider("rep_slider","rep_value",rep_value);
		}
		initSliders();

		var box = document.querySelector('.cube_container').children[0]
		var panelClassName = 'show-front';

		function shuffleArray(array) {
			var shuffled_array = [];
			while (array.length > 0) {
				var index = Math.floor(Math.random()*array.length)
				shuffled_array.push(array.splice(index,1));
			}
			return shuffled_array;
		}

		function startRoll() {
			var classes = ["show-front","show-back","show-right","show-left","show-top","show-bottom"];
			rollDie(shuffleArray(classes));			
		}

		function rollDie(classes) {
			panelClassName = classes[0];
			box.className = panelClassName;
			if (classes.length > 1) {
				setTimeout(function(){rollDie(classes.slice(1,classes.length+1))},150);	
			}
		}

	</script>
</body>
</html>


